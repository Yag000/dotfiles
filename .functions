# OCaml
dune_exec(){
    eval $(opam env) && dune build bin/main.exe && dune exec bin/main.exe
}


# Advent of Code
initialize_day_repo_ocaml(){
    mkdir $1 && touch $1/$1.ml && touch $1/dune
}


# Quick git diff from: https://medium.com/@GroundControl/better-git-diffs-with-fzf-89083739a9cb 
git_diff() {
  preview="git diff $@ --color=always -- {-1}"
  git diff $@ --name-only | fzf -m --ansi --preview $preview
}


# This needs you to have cloned the templates repo in $HOME/Projects/templates 
# Repo: https://github.com/Yag000/templates

init_rust_project(){
    cargo init $1
    cd $1
    cp -r $HOME/.config/templates/rust/.* .
}

init_ocaml_project(){
    dune init project $1
    cd $1
    git init
    cp -r $HOME/.config/templates/ocaml/.* .
    cp -r $HOME/.config/templates/ocaml/* .
    mv template.opam $1.opam
}

init_c_project(){
    mkdir $1
    cd $1
    cp -r $HOME/.config/templates/c/.* .
    cp -r $HOME/.config/templates/c/* .
}
